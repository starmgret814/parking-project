<mat-form-field appearance="outline" class="m-t-12" style="width: 40%">
  <i matPrefix class="fi fi-rs-search m-l-8"></i>
  <input matInput class="placeholder-light" placeholder="Buscar usuario" />
</mat-form-field>
<!-- ////////////////////////////////////// -->
<!-- ////////////////////////////////////// -->
<!-- ////////////////////////////////////// -->
<mat-card class="card-style">
  <mat-card-content>
    <div class="d-flex flex-column gap-3">
      <div class="m-r-auto m-t-5">
        <mat-card-title class="f-s-24 f-w-600">
          Gestión de Usuarios
        </mat-card-title>
      </div>
      <i
        class="fi fi-rr-user-add icon-blue-sm m-l-15"
        matTooltip="Agregar usuario"
        style="font-size: 28.5px; cursor: pointer"
        (click)="openAddUserModal()"
      ></i>
      <i
        class="fi fi-rr-lead-management icon-blue-sm m-l-15"
        matTooltip="Gestionar permisos  "
        style="font-size: 28.5px; cursor: pointer"
        (click)="openRoleDialog()"
      ></i>
    </div>

    <!-- Lista de usuarios -->
    <ng-container *ngFor="let user of users">
      <mat-card class="m-t-20" style="border: 1px solid #ddd; padding: 24px">
        <div
          class="d-flex justify-content-between align-items-center flex-wrap"
        >
          <!-- Usuario -->
          <div style="flex: 1; min-width: 200px">
            <div class="d-flex align-items-center gap-2">
              <div class="f-w-500 f-s-18">
                {{
                  user.name +
                    " " +
                    user.paternalLastName +
                    " " +
                    user.maternalLastName | titlecase
                }}
              </div>

              <i
                class="fi fi-rr-user-pen icon-blue-lg m-l-10"
                matTooltip="Editar"
                style="cursor: pointer; font-size: 20px"
              ></i>
              <i
                class="fi fi-rr-remove-user icon-blue-lg m-l-10"
                matTooltip="Eliminar"
                style="cursor: pointer; font-size: 20px"
              ></i>
            </div>

            <div class="m-t-5">
              <span
                class="label-badge f-w-500 f-s-13"
                style="margin-right: 5px"
              >
                Rol: {{ user.role }}
              </span>
              <span class="label-badge f-w-500 f-s-13">
                Turno: {{ user.shift }}
              </span>
            </div>

            <div class="f-w-400 m-t-5" style="font-size: 13.5px">
              Correo: {{ user.email }}
            </div>
          </div>

          <!-- Botón de permisos (opcional) -->
          <div style="text-align: right">
            <button
              mat-flat-button
              color="accent"
              style="min-width: 140px; margin-right: 35px"
              (click)="openPermissionsDialog(user)"
            >
              Permisos
            </button>
          </div>
        </div>
      </mat-card>
    </ng-container>
  </mat-card-content>
</mat-card>
